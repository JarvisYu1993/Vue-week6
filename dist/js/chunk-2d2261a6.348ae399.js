(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2261a6"],{e6dc:function(t,a,e){"use strict";e.r(a);var c=e("7a23"),o={class:"container pt-4"},d=Object(c["h"])("h1",{class:"border-bottom pb-2"},"商品列表",-1),i={class:"productWrap mt-3"},n=Object(c["h"])("h4",{class:"productType"},"新品",-1),s={class:"text-start px-3 pt-3"},l={class:"product_title"},r={class:"originPrice"},u={class:"nowPrice text-danger fw-bold"};function b(t,a,e,b,p,h){var g=Object(c["A"])("Loading"),m=Object(c["A"])("modal-detail"),j=Object(c["A"])("pagination");return Object(c["t"])(),Object(c["e"])("div",o,[Object(c["h"])(g,{active:p.isLoading},null,8,["active"]),Object(c["h"])(m,{ref:"modalDetail",product:p.product,onAddCart:h.addCart},null,8,["product","onAddCart"]),d,Object(c["h"])("ul",i,[(Object(c["t"])(!0),Object(c["e"])(c["a"],null,Object(c["y"])(p.products,(function(a){return Object(c["t"])(),Object(c["e"])("li",{class:"productCard",key:a.id},[n,Object(c["h"])("div",{class:"productImg",style:{backgroundImage:"url(".concat(a.imageUrl,")")},onClick:function(t){return h.getProduct(a.id)},disabled:p.loadingStatus.loadingItem===a.id||!a.is_enabled},null,12,["onClick","disabled"]),Object(c["h"])("div",s,[Object(c["h"])("h2",l,Object(c["D"])(a.title),1),Object(c["h"])("del",r,"原價：NT$"+Object(c["D"])(a.origin_price),1),Object(c["h"])("p",u,"特價：NT$"+Object(c["D"])(a.price),1)]),Object(c["h"])("a",{href:"#",id:"addCardBtn",onClick:Object(c["N"])((function(e){return h.addCart(a.id,t.qty=1)}),["prevent"]),disabled:p.loadingStatus.loadingItem===a.id||!a.is_enabled}," 加入購物車 ",8,["onClick","disabled"])])})),128))]),Object(c["h"])(j,{page:p.pagination,onGetProduct:h.getProductList},null,8,["page","onGetProduct"])])}e("99af"),e("a4d3"),e("e01a");var p={class:"modal fade",id:"modalDetail",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true",ref:"modal"},h={class:"modal-dialog modal-xl",role:"document"},g={class:"modal-content border-0"},m={class:"modal-header bg-dark text-white"},j={class:"modal-title",id:"exampleModalLabel"},O=Object(c["h"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),f={class:"modal-body"},v={class:"row"},y={class:"col-sm-6"},x={class:"col-sm-6"},k={class:"badge bg-primary rounded-pill mb-2"},L={class:"d-flex flex-column align-items-end mb-2"},D={key:0,class:"h6"},C={key:1,class:"h4 text-danger mt-2"},w={class:"d-flex flex-column"};function P(t,a,e,o,d,i){return Object(c["t"])(),Object(c["e"])("div",p,[Object(c["h"])("div",h,[Object(c["h"])("div",g,[Object(c["h"])("div",m,[Object(c["h"])("h5",j,[Object(c["h"])("span",null,Object(c["D"])(e.product.title),1)]),O]),Object(c["h"])("div",f,[Object(c["h"])("div",v,[Object(c["h"])("div",y,[Object(c["h"])("img",{class:"img-fluid",src:e.product.imageUrl,alt:""},null,8,["src"])]),Object(c["h"])("div",x,[Object(c["h"])("span",k,Object(c["D"])(e.product.category),1),Object(c["h"])("p",null,"商品描述："+Object(c["D"])(e.product.description),1),Object(c["h"])("p",null,"商品內容："+Object(c["D"])(e.product.content),1),Object(c["h"])("div",L,[e.product.price?(Object(c["t"])(),Object(c["e"])("del",D,"原價：NT$"+Object(c["D"])(e.product.origin_price)+" 元",1)):Object(c["f"])("",!0),e.product.price?(Object(c["t"])(),Object(c["e"])("p",C,"特價：NT$"+Object(c["D"])(e.product.price)+"元",1)):Object(c["f"])("",!0)]),Object(c["h"])("div",w,[Object(c["M"])(Object(c["h"])("input",{type:"number",class:"form-control mb-2","onUpdate:modelValue":a[1]||(a[1]=function(t){return d.qty=t}),min:"1"},null,512),[[c["H"],d.qty,void 0,{number:!0}]]),Object(c["h"])("button",{type:"button",class:"addBtn",onClick:a[2]||(a[2]=function(a){return t.$emit("add-cart",e.product.id,d.qty)})},"加入購物車")])])])])])])],512)}var $=e("7c2b"),I=e.n($),M={props:{product:{type:Object,default:function(){return{}}}},data:function(){return{status:{},modal:"",qty:1}},mounted:function(){this.modal=new I.a(this.$refs.modal,{keyboard:!1,backdrop:"static"})},methods:{openModal:function(){this.modal.show()},hideModal:function(){this.modal.hide()}}};M.render=P;var S=M,q=e("6407"),_={name:"Products",data:function(){return{products:[],product:{},cart:{},loadingStatus:{loadingItem:""},isLoading:!1,pagination:{}}},components:{modalDetail:S,pagination:q["a"]},methods:{getProducts:function(){var t=this;this.isLoading=!0;var a="".concat("https://vue3-course-api.hexschool.io/","api/").concat("maroon5","/products");this.$http.get(a).then((function(a){a.data.success?(t.products=a.data.products,t.isLoading=!1):(alert(a.data.message),t.isLoading=!1)})).catch((function(t){console.log(t)}))},getProduct:function(t){var a=this;this.isLoading=!0;var e="".concat("https://vue3-course-api.hexschool.io/","api/").concat("maroon5","/product/").concat(t);this.loadingStatus.loadingItem=t,this.$http.get(e).then((function(t){t.data.success?(a.loadingStatus.loadingItem="",a.product=t.data.product,a.isLoading=!1,a.$refs.modalDetail.openModal()):alert(t.data.message)}))},getProductList:function(){var t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e="".concat("https://vue3-course-api.hexschool.io/","api/").concat("maroon5","/products?page=").concat(a);this.$http.get(e).then((function(a){a.data.success?t.pagination=a.data.pagination:alert(a.data.success)})).catch((function(t){console.log(t)}))},addCart:function(t){var a=this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.isLoading=!0;var c="".concat("https://vue3-course-api.hexschool.io/","api/").concat("maroon5","/cart");this.loadingStatus.loadingItem=t;var o={product_id:t,qty:e};this.$http.post(c,{data:o}).then((function(t){t.data.success?(alert(t.data.message),a.loadingStatus.loadingItem="",a.$refs.modalDetail.hideModal(),a.isLoading=!1):alert(t.data.message)}))}},created:function(){this.getProducts(),this.getProductList()}};_.render=b;a["default"]=_}}]);
//# sourceMappingURL=chunk-2d2261a6.348ae399.js.map